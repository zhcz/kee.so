(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{3687:function(e,t,a){"use strict";a.d(t,{Z:function(){return X}});var n,r,s,l,i,o=a(1527),c=a(9140),d=a.n(c),u=a(5357),m=a(959),p=a(8983),x=a(4542),f=a(9204),h=a(1707),g=a(2444),v=a(1367),b=a(3187),w=a(1256),j=a(1071);let _=(0,m.memo)(e=>{let{open:t,setOpen:a}=e,{username:n}=j.default,[r]=h.default.useForm(),s=(0,w.Z)(),l=()=>{a(!1),r.resetFields()},i=(0,b.Z)("GET /check"),c=(0,b.Z)("POST /auth/change_username"),d=async()=>{let{new_username:e}=await r.validateFields(),{is_available:t}=await i.run({username:e});if(!t){s.warning("".concat(e," ~ already exist \uD83E\uDD27"));return}await c.run({new_username:e}),j.default.username=e,j.default.loginName=e,s.success("Success \uD83D\uDCB3"),l()};return(0,o.jsx)(g.Z,{className:"[&_.ant-btn]:h-[36px] [&_.ant-input-affix-wrapper]:h-[48px]",title:"Change Username",width:416,open:t,cancelButtonProps:{hidden:!0},onCancel:l,okButtonProps:{loading:i.loading||c.loading},okText:"Submit",onOk:d,children:(0,o.jsx)(h.default,{className:"mt-[20px]",layout:"vertical",form:r,children:(0,o.jsx)(v.Z,{label:"New Username",name:"new_username",placeholder:n})})})});var y=a(8990),k=a(6389),E=a(6224),C=a(3935),N=a(9724);let S=(0,m.memo)(e=>{let{open:t,setOpen:a,type:n,email:r}=e,[s]=h.default.useForm(),l=(0,w.Z)(),i="start"===n||"start_modify"===n,c="start_modify"===n,[d,u]=(0,m.useState)(c),[p,x]=(0,m.useState)(!1),f=()=>{null==a||a(!1),u(c),x(!1),s.resetFields()},v=(0,b.Z)("POST /verify/send"),_=async()=>{if(i&&!d)await v.run({email:r,type:N.B.SIGNUP});else{let{new_email:e}=await s.validateFields();await v.run({new_email:e,type:N.B.CHANGE_EMAIL})}x(!0)},S=(0,b.Z)("POST /auth/verify"),P=(0,b.Z)("POST /auth/change_email"),I=async()=>{let{verify_code:e,new_email:t}=await s.validateFields();i&&!d?(await S.run({verify_code:e}),j.default.status=N.J.VERIFIED):(await P.run({new_email:t,verify_code:e}),j.default.email=t),d?u(!1):(l.success("Success \uD83D\uDC8C"),f())};return(0,o.jsx)(g.Z,{rootClassName:i?"blur-mask":"",className:"[&_.ant-btn]:h-[36px] [&_.ant-input]:h-[48px] [&_.ant-input]:!text-[16px]",title:i&&!d?"Verify Email":"Change Email",width:416,open:void 0===t||t,closable:!i,maskClosable:!i,cancelButtonProps:{hidden:!0},onCancel:f,okButtonProps:{loading:p?S.loading||P.loading:v.loading},okText:p?"Submit":"Continue",onOk:p?I:_,children:(0,o.jsx)(h.default,{className:"mt-[20px]",layout:"vertical",form:s,children:i&&!d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mb-[20px] flex items-center justify-between rounded-[8px] bg-neutral-100 px-[9px] leading-[44px] [border:2px_double_#e8e8e8]",children:[(0,o.jsx)("div",{className:"truncate pr-[12px] text-[16px]",children:r}),(0,o.jsx)("a",{className:"text-[12px] uppercase opacity-20",onClick:()=>u(!0),children:(0,o.jsx)(y.Z,{})})]}),p&&(0,o.jsx)(C.Z,{apiSendCode:v,emailAddress:r,emailType:N.B.SIGNUP})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.Z,{className:p?"pointer-events-none":"",form:s,label:"New Email",name:"new_email",placeholder:r}),p&&(0,o.jsx)(k.RL,{name:"new_email",children:e=>(0,o.jsx)(C.Z,{apiSendCode:v,emailAddress:e,emailKey:"new_email",emailType:N.B.CHANGE_EMAIL})})]})})})});var P=a(1925);let I=(0,m.memo)(e=>{let{open:t,setOpen:a}=e,{username:n}=j.default,[r]=h.default.useForm(),s=(0,w.Z)(),l=(0,b.Z)("POST /invite/send"),i=async()=>{if(!("nanxiaobei"===n||"pengtikui"===n)){s.error("No No No \uD83D\uDC8A");return}let{title:e,content:t,email_list:a}=await r.validateFields(),i=a.replace(/\s|\n|'|"|,/g," ").replace(/\s+/g," ").trim().split(" ");for(let a=0;a<i.length;a++){let n=i[a];n&&n.includes("@")&&await l.run({email:n,title:e,content:t})}s.success("Success \uD83C\uDF55")};return(0,o.jsx)(g.Z,{className:"[&_.ant-btn]:h-[36px] [&_.ant-input]:h-[48px] [&_.ant-input]:!text-[16px]",title:"Send Email",width:416,open:t,cancelButtonProps:{hidden:!0},onCancel:()=>{a(!1),r.resetFields()},okButtonProps:{loading:l.loading},okText:"Submit",onOk:i,children:(0,o.jsxs)(h.default,{className:"mt-[20px]",layout:"vertical",form:r,children:[(0,o.jsx)(k.II,{label:"Title",name:"title",validateTrigger:[],rules:["required"],autoComplete:"off"}),(0,o.jsx)(k.Kx,{label:"Content",name:"content",validateTrigger:[],rules:["required"],autoComplete:"off",autoSize:{minRows:4}}),(0,o.jsx)(k.Kx,{label:"Email List",name:"email_list",validateTrigger:[],rules:["required"],autoComplete:"off",autoSize:{minRows:4},extra:"* Separate with commas or spaces"})]})})});function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var D=function(e){return m.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"5 5 14 14"},e),n||(n=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m16 10-4-4-4 4m8 4-4 4-4-4"})))};let F=(0,m.memo)(()=>{let{username:e,status:t,email:a}=j.default,n=(0,w.Z)(),{pathname:r}=(0,u.useRouter)(),[s,l]=(0,m.useState)(!1),i=(0,m.useRef)(null);(0,m.useEffect)(()=>{j.x.dropdownTriggerEl=i.current},[]);let[c,p]=(0,m.useState)(!1),[h,g]=(0,m.useState)(!1),[v,y]=(0,m.useState)(!1),[k,E]=(0,m.useState)(!1),C=(0,b.Z)("GET /auth/logout"),Z=async()=>{await C.run(),j.default.setUserData(null),n.success("Logged Out \uD83D\uDC4B")};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.Z,{rootClassName:"text-left subpixel-antialiased max-md:!min-w-max",open:s,onOpenChange:e=>{l(e)},trigger:["click"],getPopupContainer:e=>e.parentNode,menu:{items:[..."/home"===r?[]:[{label:(0,o.jsx)(d(),{href:"/home",children:"Open Home →"}),key:"home"},"nanxiaobei"===e||"pengtikui"===e?{label:"Send Email \uD83D\uDD79",onClick:()=>{E(!0),l(!1)},key:"send"}:null,{type:"divider"}],{label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"Change Username"}),(0,o.jsxs)("div",{className:"-mt-[3px] max-w-[240px] truncate text-[12px] opacity-40",children:["/",e]})]}),onClick:()=>{p(!0),l(!1)},key:"username"},{label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"Change Email"}),(0,o.jsx)("div",{className:"-mt-[3px] max-w-[240px] truncate text-[12px] opacity-40",children:a})]}),onClick:()=>{g(!0),l(!1)},key:"email"},{label:"Change Password",onClick:()=>{y(!0),l(!1)},key:"password"},{type:"divider"},{label:(0,o.jsxs)(o.Fragment,{children:[C.loading&&(0,o.jsx)(P.Z,{className:"mr-[6px]"}),"Logout"]}),className:C.loading?"pointer-events-none opacity-30":"",onClick:Z,key:"logout"}]},children:(0,o.jsxs)("a",{ref:i,className:"text-[15px] tracking-[0.5px]",children:[(0,o.jsx)("span",{children:"kee.so"}),(0,o.jsxs)("span",{className:"truncate max-md:max-w-[28vw] md:max-w-[240px]",children:["/",e]}),(0,o.jsx)(D,{className:"ml-[4px] w-[11px] translate-y-[0.5px] scale-y-95 opacity-40"})]})}),(t===N.J.SIGNUPED||t===N.J.SIGNUP_EMAIL_WRONG)&&(0,o.jsx)(S,{type:t===N.J.SIGNUPED?"start":"start_modify",email:a}),(0,o.jsx)(_,{open:c,setOpen:p}),(0,o.jsx)(S,{open:h,setOpen:g,type:"update",email:a}),(0,o.jsx)(f.Z,{open:v,setOpen:y,type:"change",submitApi:"POST /auth/change_password",getParams:e=>{let{old_password:t,new_password:a}=e;return{old_password:t,new_password:a}}}),(0,o.jsx)(I,{open:k,setOpen:E})]})});var O=a(4555),T=a(961),L=a(8203),R=a(8939),A=a(5403),B=a(8762),U=a(3422),G=e=>{let{apiPublish:t,publishValues:a}=e,[n]=h.default.useForm(),[r,s]=(0,m.useState)(!0),l=A.EU.slice(5,-1);(0,m.useEffect)(()=>{j.x.openSetup=()=>{s(!0)}},[]);let i=(e,t)=>{let a=t.target.closest(".ant-input-affix-wrapper");e?a.dataset.active="true":a.dataset.active=void 0},c=()=>{s(!1),n.resetFields()},d=async()=>{let{nickname:e,bio_info:t,grids:r}=await n.validateFields(),s=[];r.forEach((e,t)=>{let{url:a}=e;if(a){let e=l[t],n=(0,U.Z)();s.push({...A.mw[e],grid_id:n,url:a,desc:a})}}),j.x.form.resetFields();let i=await a({nickname:e,bio_info:t,grids:s});j.x.form.setFieldsValue({nickname:i.nickname,bio_info:i.bio_info,grids:i.grids}),j.default.setUserData(i),c()};return(0,o.jsx)(g.Z,{open:r,width:464,style:{top:56},rootClassName:"blur-mask",className:"[&_.ant-modal-body]:relative [&_.ant-modal-body]:mb-[20px] [&_.ant-modal-body]:mt-[12px] [&_.ant-modal-body]:h-[70dvh] [&_.ant-modal-body]:overflow-auto [&_.ant-modal-body]:rounded-[8px] [&_.ant-modal-body]:bg-[#f5f5f5] [&_.ant-modal-body]:[border-bottom:1px_solid_#f2f2f2]",title:"Setup Home Screen",closable:!1,maskClosable:!1,cancelButtonProps:{className:"opacity-40"},cancelText:"Skip",onCancel:c,okButtonProps:{loading:t.loading},okText:"OK, Setup \uD83D\uDD16",onOk:d,children:(0,o.jsxs)(h.default,{className:"p-[20px] pb-[10px] [&_.ant-form-item]:!mb-[10px] [&_.ant-input-affix-wrapper]:h-[38px] [&_.ant-input-affix-wrapper]:bg-white [&_.ant-input-affix-wrapper]:text-[15px] [&_.ant-input-affix-wrapper]:tracking-[0.5px] [&_.ant-input-affix-wrapper]:!shadow-sm [&_.ant-input]:tracking-[0.5px] [&_.ant-input]:text-black [&_.profile_.ant-input-prefix]:w-[42px] [&_.profile_.ant-input-prefix]:text-[18px] [&_.profile_.ant-input-prefix]:after:ml-[8px] [&_.profile_.ant-input-prefix]:after:text-[12px] [&_.profile_.ant-input-prefix]:after:opacity-40 [&_.profile_.ant-input-prefix]:after:content-['→']",form:n,children:[(0,o.jsx)(k.II,{className:"profile",name:"nickname",rules:["required"],prefix:"\uD83D\uDE07",placeholder:"Your name",autoComplete:"off"}),(0,o.jsx)(k.II,{className:"profile",name:"bio_info",prefix:"\uD83E\uDD33",placeholder:"Your bio...",autoComplete:"off"}),l.map((e,t)=>{let{iconUrl:a,socialHost:r,bgBase:s}=A.wo[e],l=r.replace("https://","").replace("www.",""),c=l.endsWith("*");return l=l.replace("*",""),(0,o.jsxs)("div",{className:"relative flex items-center gap-[10px]",children:[(0,o.jsx)("div",{className:"mb-[10px] aspect-square w-[38px] rounded-[8px] shadow-sm shadow-black/10 [background:--icon-bg]",style:{"--icon-bg":(0,B.Z)({url:a,width:200})}}),(0,o.jsx)(R.Z,{form:n,className:"flex-1 [&_.ant-input-prefix]:me-[0.5px] [&_.ant-input-prefix]:opacity-50 [&_.ant-input-suffix]:ms-[0.5px] [&_.ant-input-suffix]:opacity-50 ".concat(c?"":"[&_.ant-input]:text-right"),selfClass:"after:absolute after:rounded-[inherit] after:inset-0 after:w-0 after:[background:--active-bg] after:duration-200 [&>*]:relative [&>*]:z-10 [&>*]:[transition:200ms] data-[active=true]:after:w-full [&[data-active=true]>*]:!text-white",style:{"--active-bg":s},name:["grids",t,"url"],prefix:c&&(l||" "),suffix:!c&&l,onEnter:i,onLeave:i})]},e)})]})})};function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function W(){return(W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let z=[{value:"edit",label:(0,o.jsx)(function(e){return m.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0.5 0.5 23 23"},e),r||(r=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.2,d:"M11 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6"})),">",s||(s=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.2,d:"m9.5 11.5 8-8a2.121 2.121 0 1 1 3 3l-8 8L8 16z"})),">")},{})},{value:"mobile",label:(0,o.jsx)(function(e){return m.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"1.5 1.9 21.2 21.2"},e),l||(l=m.createElement("rect",{width:12,height:19,x:6,y:3,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.1,rx:1})),i||(i=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.8,d:"M12.016 18.016 12 18"})),">")},{})}],q=(0,m.memo)(()=>{let{isSmall:e,pageMode:t}=j.default;return null===e||e?null:(0,o.jsx)(L.Z,{className:"absolute left-1/2 -translate-x-1/2 !bg-transparent !p-0 max-md:!hidden [&_.ant-segmented-group]:gap-[4px] [&_.ant-segmented-item-label]:flex [&_.ant-segmented-item-label]:aspect-square [&_.ant-segmented-item-label]:w-[30px] [&_.ant-segmented-item-label]:items-center [&_.ant-segmented-item-label]:justify-center [&_.ant-segmented-item-label]:!p-[28%] [&_.ant-segmented-item-selected]:!bg-neutral-100/60 [&_.ant-segmented-item-selected]:!shadow-sm [&_.ant-segmented-item-selected]:backdrop-blur-[8px] [&_.ant-segmented-item-selected_svg]:opacity-100 [&_.ant-segmented-item]:!rounded-full [&_.ant-segmented-thumb]:!rounded-full [&_.ant-segmented-thumb]:bg-neutral-100/60 [&_.ant-segmented-thumb]:!shadow-sm [&_svg]:w-full [&_svg]:opacity-80 [&_svg]:[color:--text-color]",value:t,onChange:e=>{(0,j.default)(t=>{var a,n;let{pageMode:r}=t;return null===(a=j.x.appEl)||void 0===a||a.classList.remove("mode-".concat(r)),null===(n=j.x.appEl)||void 0===n||n.classList.add("mode-".concat(e)),{pageMode:e,canDrag:"edit"===e}})},options:z})}),H=(0,m.memo)(()=>{let{username:e,status:t,hasChanged:a}=j.default,n=(0,u.useRouter)(),r=(0,m.useRef)(null),s=(0,b.Z)("POST /publish"),l=s.run,i=(0,m.useCallback)(e=>{let{nickname:t,bio_info:a,grids:n}=e,{avatar_url:r,theme_name:s,bg_page:i,bg_noise:o,bg_blur:c,text_color:d,text_center:u,text_italic:m}=j.default;return l({avatar_url:r,nickname:t,bio_info:a,grids:n,theme:{theme_name:s,bg_page:i,bg_noise:o,bg_blur:c,text_color:d,text_center:u,text_italic:m}})},[l]),c=(0,m.useCallback)(async()=>{let e=j.x.form.getFieldsValue(!0);await i(e),j.default.hasChanged=!1},[i]);(0,m.useEffect)(()=>{j.x.onPublish=c},[c]);let d=async()=>{if(await c(),j.default.isSmall){var e;null===(e=j.x.publishBarEl)||void 0===e||e.classList.remove("active")}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(q,{}),(0,o.jsx)("div",{id:"publish-bar",className:"publish-bar",children:(0,o.jsx)("a",{className:"max-md:!bg-black max-md:!text-white ".concat(!a||s.loading?"pointer-events-none !opacity-40":""),onClick:d,children:s.loading?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.Z,{}),(0,o.jsx)("span",{children:"Publishing"})]}):a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O.Z,{}),(0,o.jsx)("span",{children:"Publish"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(T.Z,{}),(0,o.jsx)("span",{children:"Published"})]})})}),(0,o.jsxs)("a",{className:"max-lg:ml-auto",href:"/".concat(e),onClick:()=>{var t;null===(t=r.current)||void 0===t||t.classList.add("active"),n.push("/".concat(e))},children:["Page",(0,o.jsx)("span",{className:"text-[12px] [&.active]:animate-spin",ref:r,children:"∵"})]}),t===N.J.VERIFIED&&(0,o.jsx)(G,{apiPublish:s,publishValues:i})]})});var V=a(4398);a(3851);var K=e=>{let{className:t="",children:a}=e,[n,r]=(0,m.useState)(""),[s,l]=(0,m.useState)(""),i=(0,m.useCallback)(()=>{document.body.classList.add("no-scroll"),r("appear show"),setTimeout(()=>{l("show")},500)},[]),c=(0,m.useCallback)(()=>{document.body.classList.remove("no-scroll"),r("appear hide-content"),l("hide"),setTimeout(()=>{r("")},300)},[]);return(0,o.jsxs)("div",{className:"relative z-10 ".concat(t),children:[(0,o.jsx)("div",{className:"flex h-[--header] w-[--header] cursor-pointer flex-col items-center justify-center before:my-[4px] before:h-[2px] before:w-[18px] before:bg-black after:my-[4px] after:h-[2px] after:w-[18px] after:bg-black",onClick:i}),(0,o.jsxs)("div",{className:"invisible fixed left-0 top-0 flex h-[100dvh] w-full -translate-y-full flex-col items-center justify-center bg-white p-[24px] opacity-0 duration-300 [&.appear]:visible [&.appear]:opacity-100 [&.hide-content_.content]:invisible [&.hide-content_.content]:opacity-0 [&.show]:[transform:translate3d(0,0,0)] [&.show_.content>*]:[animation-name:childBounceIn] ".concat(n),children:[(0,o.jsx)("div",{className:"content flex w-full flex-col items-center text-center subpixel-antialiased [&>*:nth-child(1)]:[animation-duration:0.69s] [&>*:nth-child(2)]:[animation-duration:0.66s] [&>*:nth-child(3)]:[animation-duration:0.63s] [&>*:nth-child(4)]:[animation-duration:0.60s] [&>*:nth-child(5)]:[animation-duration:0.57s] [&>*:nth-child(6)]:[animation-duration:0.54s] [&>*]:text-[18px] [&>*]:leading-[3]",onClick:c,children:a}),(0,o.jsx)("div",{className:"mt-[5%] flex h-[--header] w-[--header] cursor-pointer items-center justify-center before:h-[2px] before:w-[26px] before:bg-black before:opacity-0 after:h-[2px] after:w-[26px] after:bg-black after:opacity-0 [&.show]:before:opacity-100 [&.show]:before:[animation:slideInLeft_0.3s] [&.show]:before:[transform:translate3d(13px,0,0)_rotate(45deg)] [&.show]:after:opacity-100 [&.show]:after:[animation:slideInRight_0.3s] [&.show]:after:[transform:translate3d(-13px,0,0)_rotate(-45deg)] ".concat(s),onClick:c})]})]})};let J=(0,m.memo)(()=>{let{authLoading:e,username:t,isSmall:a}=j.default,n=(0,u.useRouter)(),{pathname:r}=n,s="/home"===r;return(0,o.jsx)("header",{className:"header",children:(0,o.jsxs)("nav",{className:"nav",children:[t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d(),{className:"logo",href:"/",children:(0,o.jsx)(V.Z,{})}),(0,o.jsx)(F,{}),!s&&(0,o.jsx)(d(),{className:"ml-[--mini-gap]",href:"/".concat(t),target:"_blank",children:"Page ↗"})]}):(0,o.jsxs)(d(),{className:"logo flex items-center",href:"/",children:[(0,o.jsx)(V.Z,{}),(0,o.jsx)("span",{className:"mt-[2px] text-[18px] font-medium",children:"Kee"})]}),s?t&&(0,o.jsx)(H,{}):null!==a&&(0,o.jsxs)(a?K:"div",{className:"ml-auto mr-[4px] md:flex md:items-center md:gap-x-[24px]",children:[(0,o.jsx)(d(),{href:"/about",children:"About"}),(0,o.jsx)(d(),{href:"/contact",children:"Contact"}),(0,o.jsx)("a",{href:"https://twitter.com/_keeso",target:"_blank",children:"@_keeso"}),!e&&!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{type:a?"horizontal":"vertical",className:"max-md:mx-auto max-md:w-[60%] max-md:min-w-fit md:mx-[2px] md:mt-[3px]"}),(0,o.jsx)("a",{onClick:async()=>{await n.push("/home"),j.default.goSignup(!1)},children:"Log in"}),(0,o.jsx)("a",{className:"bg-black px-[11px] pb-[1.5px] !text-white shadow-md shadow-black/10 max-md:my-[12px] max-md:w-[216px] max-md:rounded-full md:rounded-[8px]",onClick:async()=>{await n.push("/home"),j.default.goSignup(!0)},children:"Get Kee free"})]})]})]})})});var Y=a(1317),$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=null;return function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];if(!a)return a=setTimeout(()=>{a=null},t),e(...r);clearTimeout(a),a=setTimeout(()=>{e(...r),a=null},t)}};let Q=m.useLayoutEffect;var X=e=>{let{seoTitle:t="",seoClean:a=!1,seoImage:n="",className:r="",style:s,mainClass:l="",noHeader:i=!1,noMain:c=!1,noFooter:m=!1,children:p}=e,{username:x}=j.default,{pathname:f}=(0,u.useRouter)(),h="/home"===f&&!!x;return Q(()=>{let e=e=>{j.x.gridMenuId&&!e.target.closest(".grid-item")&&j.default.closeGridMenu()},t=$(()=>{let t=j.default.setScreenSize(window.innerWidth);h&&((0,j.default)("canDrag",e=>!e),setTimeout(()=>{(0,j.default)("canDrag",e=>!e)}),t?document.addEventListener("click",e,!0):document.removeEventListener("click",e,!0))});return t(),window.addEventListener("resize",t,!0),()=>{window.removeEventListener("resize",t,!0),document.removeEventListener("click",e,!0)}},[h]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Y.Z,{title:t,clean:a,image:n}),(0,o.jsxs)("div",{id:"app",className:"app ".concat(r),style:s,children:[i?null:(0,o.jsx)(J,{}),c?p:(0,o.jsx)("main",{className:"main ".concat(l),children:p}),m?null:(0,o.jsx)("footer",{className:"footer",children:(0,o.jsxs)("div",{className:"flex flex-col items-center gap-y-[24px] rounded-[24px] bg-black/5 px-[--x-gap] py-[88px] text-[14px] [&>div]:flex [&>div]:flex-wrap [&>div]:justify-center max-md:[&>div]:gap-x-[20px] md:[&>div]:gap-x-[24px]",children:[(0,o.jsx)(d(),{href:"/",children:(0,o.jsx)(V.Z,{className:"w-[64px]"})}),(0,o.jsx)("div",{className:"text-orange-400",children:"Home screen ╰ Web ╮ Link in bio"}),(0,o.jsxs)("div",{children:[(0,o.jsx)(d(),{href:"/about",children:"About"}),(0,o.jsx)(d(),{href:"/contact",children:"Contact"}),(0,o.jsx)("a",{href:"https://twitter.com/_keeso",target:"_blank",children:"@_keeso"}),(0,o.jsx)("div",{className:"max-md:w-full max-md:-indent-[9999px] [&~a]:opacity-40",children:"•"}),(0,o.jsx)("a",{href:"https://status.kee.so/",target:"_blank",children:"Status"}),(0,o.jsx)(d(),{href:"/terms",children:"Terms of Use"}),(0,o.jsx)(d(),{href:"/privacy",children:"Privacy Policy"})]})]})})]},f)]})}},1317:function(e,t,a){"use strict";var n=a(1527),r=a(7607),s=a(5357);let l="Link in bio to widgets, your online home screen.",i="".concat(l,", create your page, in a home screen look, by 3 themes: Apple, Android, Windows"),o={additionalMetaTags:[{viewport:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"},{name:"keywords",content:"kee.so, kee, home screen, link in bio, bento, apps, personal page, personal website, website builder, social links, all-in-one, linktr.ee, linktree"}],additionalLinkTags:[{rel:"icon",href:"/favicon.icon"},{rel:"apple-touch-icon",href:"https://img-sg.kee.so/brand/apple-touch-icon.png"}]};t.Z=e=>{let{title:t,clean:a,desc:c,image:d}=e,{asPath:u,locale:m}=(0,s.useRouter)(),p=t?"".concat(a?t:"".concat(t," - ").concat("Kee")):"".concat("Kee"," - ").concat(l),x=c||i;return(0,n.jsx)(r.PB,{title:p,description:x,openGraph:{type:"website",url:"https://kee.so".concat(u),title:p,description:x,images:[{url:d||"https://img-sg.kee.so/brand/og.png"}],locale:m,site_name:"Kee"},twitter:{handle:"@_keeso",site:"@_keeso",cardType:"summary_large_image"},...o})}},9204:function(e,t,a){"use strict";var n=a(1527),r=a(1707),s=a(2444),l=a(6389),i=a(959),o=a(6224),c=a(3935),d=a(3950),u=a(3187),m=a(1256),p=a(9724);t.Z=e=>{let{open:t,setOpen:a,type:x,submitApi:f,getParams:h}=e,[g]=r.default.useForm(),v=(0,m.Z)(),[b,w]=(0,i.useState)(""),j=()=>{a(!1),w(""),g.resetFields()},_="change"===x,y=!_&&!b,k=(0,u.Z)("POST /verify/send"),E=(0,u.Z)(f),C=async()=>{if(y){let{email:e}=await g.validateFields();await k.run({email:e,type:p.B.RESET_PASSWORD}),w(e);return}let e=h(await g.validateFields());await E.run(e),v.success("Success \uD83D\uDD11"),j()};return(0,n.jsx)(s.Z,{className:"[&_.ant-btn]:h-[36px] [&_.ant-input-affix-wrapper]:h-[48px] [&_.ant-input]:h-[48px] [&_.ant-input]:!text-[16px]",title:_?"Change Password":"Reset Password",width:416,open:t,cancelButtonProps:{hidden:!0},onCancel:j,okButtonProps:{loading:y?k.loading:E.loading},okText:y?"Continue":"Submit",onOk:C,children:(0,n.jsxs)(r.default,{className:"mt-[20px]",layout:"vertical",form:g,children:[_?(0,n.jsx)(l.ro,{label:"Old Password",name:"old_password",validateTrigger:[],rules:["required",d.I9],autoComplete:"off"}):(0,n.jsx)(n.Fragment,{children:b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.II,{name:"email",hidden:!0}),(0,n.jsx)(c.Z,{className:"!m-[0_0_20px]",apiSendCode:k,emailAddress:b,emailType:p.B.RESET_PASSWORD})]}):(0,n.jsx)(o.Z,{form:g,label:"Email",name:"email"})}),!y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.ro,{label:"New Password",name:"new_password",validateTrigger:[],rules:["required",d.Pu],autoComplete:"new-password"}),(0,n.jsx)(l.ro,{label:"Confirm New Password",name:"confirm_new_password",dependencies:["new_password"],validateTrigger:[],rules:["required",d.Pu,e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a&&t("new_password")!==a?Promise.reject(Error("Passwords do not match")):Promise.resolve()}}],autoComplete:"new-password"})]})]})})}},6224:function(e,t,a){"use strict";var n=a(1527),r=a(6389),s=a(959);let l={type:"email",transform:e=>e.trim()},i=(0,s.forwardRef)((e,t)=>{let{form:a,name:s,...i}=e,o=async()=>{let e=(await a.validateFields([s],{validateOnly:!0}))[s].trim();a.setFieldValue(s,e)};return(0,n.jsx)(r.II,{ref:t,name:s,type:"email",validateTrigger:[],rules:["required",l],autoComplete:"off",onBlur:o,...i})});t.Z=i},8939:function(e,t,a){"use strict";var n=a(1527),r=a(6389),s=a(959),l=a(9817);let i=(0,s.forwardRef)((e,t)=>{let{form:a,isEmail:i,name:o,required:c,onEnter:d,onLeave:u,...m}=e,p=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,()=>p.current);let x=async e=>{var t;null===(t=p.current)||void 0===t||t.blur(),await a.validateFields([o]);let n=(0,l.Z)(e.target.value);a.setFieldValue(o,n),null==d||d(n,e)},f=async e=>{await a.validateFields([o]);let t=(0,l.Z)(e.target.value);a.setFieldValue(o,t),null==u||u(t,e)},h=["string","max=240",...i?["email"]:[]];return(0,n.jsx)(r.II,{ref:p,name:o,rules:c?["required",...h]:h,autoComplete:"off",onPressEnter:x,onBlur:f,...m})});t.Z=i},1367:function(e,t,a){"use strict";var n=a(1527),r=a(6389),s=a(959),l=a(3950);let i=(0,s.forwardRef)((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.II,{ref:t,className:"launch-box ".concat(a),prefix:(0,n.jsxs)(n.Fragment,{children:["kee.so",(0,n.jsx)("i",{children:"/"})]}),validateTrigger:[],rules:["required",l.bo],autoComplete:"off",...s})});t.Z=i},4398:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var n,r,s,l,i,o,c,d,u,m,p=a(1527),x=a(959);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var h=function(e){return x.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"2 2 44 44"},e),n||(n=x.createElement("radialGradient",{id:"kee_svg__a",cx:27.462,cy:24,r:17.843,fx:27.367,fy:16.356,gradientTransform:"rotate(1.146 23.98 23.96)",gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:0,stopColor:"#ffe16e"}),x.createElement("stop",{offset:.629,stopColor:"#ffd426"}),x.createElement("stop",{offset:.72,stopColor:"#fdcd23"}),x.createElement("stop",{offset:.854,stopColor:"#f8b919"}),x.createElement("stop",{offset:1,stopColor:"#f09c0c"}))),r||(r=x.createElement("path",{fill:"url(#kee_svg__a)",d:"M45.3 24.417c-.193 9.852-8.336 17.683-18.189 17.49-10.473-.205-12.43-4.21-15.317-9.907-1.277-2.52-2.232-5.26-2.173-8.282.193-9.852 8.336-17.683 18.189-17.49s17.683 8.337 17.49 18.189"})),s||(s=x.createElement("radialGradient",{id:"kee_svg__b",cx:22.555,cy:24.848,r:4.193,gradientTransform:"rotate(1.146 23.98 23.96)",gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:0,stopColor:"#1f1f1f"}),x.createElement("stop",{offset:.697,stopColor:"#0a0a0a"}),x.createElement("stop",{offset:1}))),l||(l=x.createElement("circle",{cx:22.538,cy:24.819,r:4.193,fill:"url(#kee_svg__b)"})),i||(i=x.createElement("circle",{cx:21.305,cy:23.537,r:1.067,fill:"#fff"})),o||(o=x.createElement("linearGradient",{id:"kee_svg__c",x1:9.029,x2:9.939,y1:30.978,y2:36.39,gradientTransform:"rotate(1.146 23.98 23.96)",gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:.408,stopColor:"#ffa561"}),x.createElement("stop",{offset:.487,stopColor:"#b94624"}),x.createElement("stop",{offset:.531,stopColor:"#961605"}))),c||(c=x.createElement("path",{fill:"url(#kee_svg__c)",d:"m3.34 33.524 11.63-2.168s-.809 1.48-1.204 4.302c0-.001-5.697 1.045-10.426-2.134"})),d||(d=x.createElement("path",{fill:"#310e02",d:"M3.156 33.393s8.475-2.225 11.835-2.084l-.374.863s-5.573.359-10.744 1.69z"})),u||(u=x.createElement("radialGradient",{id:"kee_svg__d",cx:7.506,cy:27.878,r:8.399,fx:7.464,fy:28.058,gradientTransform:"matrix(.8686 -.4956 .3171 .5557 -7.925 15.782)",gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:0,stopColor:"#ff9b52"}),x.createElement("stop",{offset:.477,stopColor:"#e44723"}),x.createElement("stop",{offset:.776,stopColor:"#d41708"}))),m||(m=x.createElement("path",{fill:"url(#kee_svg__d)",d:"M9.632 23.19c-1.36.694-5.932 4.505-7.108 9.853-.074.334.242.676.565.564 2.496-.863 8.777-1.7 11.539-1.975.396-.039.513-.575.205-.827-1.107-.907-3.717-4.453-4.543-7.311-.083-.288-.392-.44-.658-.304"})))},g=(0,x.memo)(e=>{let{size:t=32,className:a=""}=e;return(0,p.jsx)(h,{className:"mr-[calc(var(--logo-size)/4)] inline-block aspect-square w-[--logo-size] ".concat(a),style:{"--logo-size":"".concat(t,"px")}})})},1925:function(e,t,a){"use strict";var n=a(1527),r=a(2178);let s=(0,a(959).memo)(e=>{let{className:t=""}=e;return(0,n.jsx)(r.Z,{className:"fast-spin ".concat(t)})});t.Z=s},3935:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(1527),r=a(4472),s=a(6389),l=a(959);let i=(0,l.forwardRef)((e,t)=>{let{children:a}=e,[n,r]=(0,l.useState)(0),s=(0,l.useRef)(),i=()=>{var e;r(60),null===(e=s.current)||void 0===e||e.call(s);let t=window.setInterval(()=>{r(e=>{var t;return e>0?e-1:(null===(t=s.current)||void 0===t||t.call(s),e)})},1e3);s.current=()=>{clearInterval(t)}};return(0,l.useEffect)(()=>(i(),()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.call(s)}),[]),(0,l.useImperativeHandle)(t,()=>({restart:i})),n>0?"".concat(n,"s"):a});var o=e=>{let{className:t="",apiSendCode:a,emailAddress:o,emailKey:c="email",emailType:d,onEmailWrong:u,onPressEnter:m}=e,p=(0,l.useRef)(null),x=async()=>{var e;await a.run({[c]:o,type:d}),null===(e=p.current)||void 0===e||e.restart()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-[8px] mt-[24px] flex justify-between gap-[8px] text-black/50 ".concat(t),children:[(0,n.jsx)("div",{className:"truncate",children:a.loading?"Sending...":(0,n.jsxs)(n.Fragment,{children:["Code has been sent to"," ",u?(0,n.jsx)(r.Z,{className:"underline",title:(0,n.jsx)("a",{onClick:u,children:"Incorrect Email？"}),children:o}):o]})}),(0,n.jsx)(i,{ref:p,children:(0,n.jsx)("a",{className:"!text-black",hidden:a.loading,onClick:x,children:"Resend"})})]}),(0,n.jsx)(s.II,{className:"hide-label",label:"Verify Code",name:"verify_code",validateTrigger:[],rules:["required","string","len=6"],placeholder:"Code",autoComplete:"off",onPressEnter:m,autoFocus:!0})]})}},3950:function(e,t,a){"use strict";a.d(t,{I9:function(){return s},Pu:function(){return l},bo:function(){return n}});let n={pattern:/^(?=.*[a-zA-Z])[\w]{4,}$/,message:"Length >= 4, use letter(at least one), number, _"},r=/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{8,}$/,s={pattern:r,message:"Password is invalid"},l={pattern:r,message:"Should contain UPPERCASE, lowercase, number, length >= 8"}},9724:function(e,t,a){"use strict";var n,r,s,l;a.d(t,{B:function(){return r},J:function(){return n}}),(s=n||(n={}))[s.SIGNUP_EMAIL_WAIT=-2]="SIGNUP_EMAIL_WAIT",s[s.SIGNUP_EMAIL_WRONG=-1]="SIGNUP_EMAIL_WRONG",s[s.DISABLED=0]="DISABLED",s[s.SIGNUPED=1]="SIGNUPED",s[s.VERIFIED=2]="VERIFIED",s[s.PUBLISHED=3]="PUBLISHED",(l=r||(r={}))[l.SIGNUP=1]="SIGNUP",l[l.RESET_PASSWORD=2]="RESET_PASSWORD",l[l.CHANGE_EMAIL=3]="CHANGE_EMAIL"},8762:function(e,t,a){"use strict";var n=a(29),r=a(5732);t.Z=e=>{let{url:t,width:a,height:s,prefix:l,blur:i}=e;if(!t)return"";let o=l?"".concat(l," "):"";if(t in n.sC)return"".concat(o,"url('").concat(n.sC[t],"')");let c=a?(0,r.Z)({url:t,width:a,height:s,blur:i}):t;return"".concat(o,"url('").concat(c,"') center / cover no-repeat")}},9817:function(e,t){"use strict";t.Z=e=>e?e.replace(/https?:\/\//,"").trim():""},3851:function(){}}]);